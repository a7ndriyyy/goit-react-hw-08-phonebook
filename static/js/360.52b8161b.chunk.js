"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[360],{8360:function(n,e,r){r.r(e),r.d(e,{default:function(){return D}});var t=r(5048),a=r(3150),o=r(9439),i=r(6460),l=r(4852),c=r(653),s=r(9900),d=r(3044),u=r(7247),m=r(9860),h=r(501),x=r(5527),f=r(533),j=r(3329),v=function(n){var e=n.id,r=n.name,t=n.number,a=(0,i.Nt)(),v=(0,o.Z)(a,2),p=v[0],g=v[1];return(0,j.jsxs)(l.ZP,{components:x.Z,secondaryAction:(0,j.jsx)(m.Z,{edge:"end","aria-label":"delete",onClick:function(){return p(e)},title:"Delete ".concat(r),loading:g.isLoading,variant:"outlined",color:"success",children:(0,j.jsx)(u.Z,{})}),children:[(0,j.jsx)(c.Z,{children:(0,j.jsx)(d.Z,{sx:{backgroundColor:"#".concat(Math.floor(16777215*Math.random()).toString(16).padStart(6,0))},children:(0,j.jsx)(h.Z,{})})}),(0,j.jsx)(s.Z,{primary:r,secondary:(0,j.jsx)(f.Z,{href:"tel:"+t,underline:"hover",sx:{color:"black"},children:t})})]})},p=r(6934),g=r(493),b=r(4302),Z=r(4554),k=r(8308),y=function(){var n=(0,t.I0)(),e=(0,t.v9)(a.zK);return(0,j.jsx)(Z.Z,{m:1,children:(0,j.jsx)(k.Z,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Filter",type:"text",name:"filter",placeholder:"Find contacts by name",value:e,onChange:function(e){return n((0,b.T)(e.target.value))},color:"success"})})},C=r(7574),w=r(2791),A=r(5218),P=r(890),z=function(){return(0,j.jsx)(Z.Z,{sx:{textAlign:"center",marginTop:"24px",color:"black"},children:(0,j.jsx)(P.Z,{variant:"h6",children:"The contact list is empty! "})})},I=function(){var n=(0,i.wY)(),e=n.data,r=n.isLoading,o=n.error,l=function(n,e){return null===n||void 0===n?void 0:n.filter((function(n){return n.name.toLowerCase().includes(e.toLowerCase())}))}(e,(0,t.v9)(a.zK));(0,w.useEffect)((function(){o&&A.ZP.error(o.data.message)}),[o]);var c=(0,p.ZP)("div")((function(n){return{backgroundColor:n.theme.palette.background.paper}}));return(0,j.jsxs)(j.Fragment,{children:[r&&(0,j.jsx)(C.a,{}),!r&&(null===e||void 0===e?void 0:e.length)>1&&(0,j.jsx)(y,{}),!r&&(null===e||void 0===e?void 0:e.length)<1&&(0,j.jsx)(z,{}),!r&&e&&(0,j.jsx)(c,{children:(0,j.jsx)(g.Z,{component:"ul",children:null===l||void 0===l?void 0:l.map((function(n){return(0,j.jsx)(v,{id:n.id,name:n.name,number:n.number},n.id)}))})})]})},L=r(5289),S=r(5661),B=r(3400),F=r(9157),T=r(9823),N=r(8763),_=r(4728),M=r(5705),W=function(){var n=(0,i.wY)().data,e=(0,i.Tn)(),r=(0,o.Z)(e,2),a=r[0],l=r[1].isLoading,c=(0,t.I0)(),s=function(e){var r=e.name,t=e.number;if(function(e){return n.some((function(n){return n.name===e}))}(r))A.ZP.error("".concat(r," is already in contacts."));else try{a({name:r,number:t}),c((0,_.i)(!1))}catch(o){A.ZP.error("Some error.")}};return(0,j.jsx)(Z.Z,{m:1,children:(0,j.jsx)(M.J9,{initialValues:{name:"",value:""},onSubmit:function(n){s(n)},children:function(n){var e=n.values,r=n.handleChange,t=n.handleBlur,a=n.handleSubmit;return(0,j.jsxs)("form",{onSubmit:a,children:[(0,j.jsx)(k.Z,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Name",type:"text",name:"name",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' \\-][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",required:!0,onChange:r,onBlur:t,value:e.name||""}),(0,j.jsx)(k.Z,{variant:"outlined",fullWidth:!0,margin:"normal",label:"Number",type:"text",name:"number",title:"Phone number must be digits and can contain spaces, dashes, parentheses and can start with +",pattern:"\\+?\\d{1,4}?[\\-.\\s]?\\(?\\d{1,3}?\\)?[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,4}[\\-.\\s]?\\d{1,9}",required:!0,onChange:r,onBlur:t,value:e.number||""}),(0,j.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"flex-end",marginTop:"16px"},children:(0,j.jsx)(m.Z,{variant:"contained",margin:"normal",type:"submit",color:"success",loading:l,loadingPosition:"end",endIcon:(0,j.jsx)(N.Z,{}),children:"Add contact"})})]})}})})},q=function(){var n=(0,t.v9)(a.Qe),e=(0,t.I0)(),r=function(){e((0,_.i)(!1))};return(0,j.jsx)("div",{children:(0,j.jsxs)(L.Z,{open:n,onClose:r,children:[(0,j.jsx)(S.Z,{children:"Add contact"}),(0,j.jsx)(B.Z,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:function(n){return n.palette.grey[500]}},children:(0,j.jsx)(T.Z,{})}),(0,j.jsx)(F.Z,{children:(0,j.jsx)(W,{})})]})})},J=r(9877),K=r(2419),Y=function(){var n=(0,t.I0)();return(0,j.jsx)(J.Z,{sx:{position:"absolute",display:{xs:"flex",md:"none"},bottom:16,right:16,color:"common.white",bgcolor:"black","&:hover":{bgcolor:"darkBlack"}},"aria-label":"Add contacts",color:"black",onClick:function(){n((0,_.i)(!0))},children:(0,j.jsx)(K.Z,{})})},D=function(){var n=(0,t.v9)(a.PR).isLoggedIn;return(0,j.jsxs)(j.Fragment,{children:[n&&(0,j.jsx)(I,{}),(0,j.jsx)(q,{}),(0,j.jsx)(Y,{})]})}}}]);
//# sourceMappingURL=360.52b8161b.chunk.js.map